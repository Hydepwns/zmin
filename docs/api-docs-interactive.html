<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>zmin API Documentation</title>
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/swagger-ui-dist@5.17.14/swagger-ui.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/redoc@2.1.3/bundles/redoc.standalone.css" />
    <style>
        /* Dark theme inspired by The Monospace Web */
        :root {
            --bg-primary: #0a0a0a;
            --bg-secondary: #1a1a1a;
            --bg-tertiary: #2a2a2a;
            --text-primary: #e0e0e0;
            --text-secondary: #a0a0a0;
            --text-muted: #606060;
            --accent: #00ff41;
            --accent-hover: #00cc33;
            --border: #333333;
            --border-light: #404040;
            --shadow: rgba(0, 0, 0, 0.5);
            --font-mono: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', 'Source Code Pro', 'Menlo', 'Consolas', 'DejaVu Sans Mono', monospace;
        }

        html {
            box-sizing: border-box;
            overflow: -moz-scrollbars-vertical;
            overflow-y: scroll;
            background: var(--bg-primary);
            color: var(--text-primary);
        }

        *, *:before, *:after {
            box-sizing: inherit;
        }

        body {
            margin: 0;
            background: var(--bg-primary);
            font-family: var(--font-mono);
            color: var(--text-primary);
            line-height: 1.6;
        }

        /* Header */
        .header {
            background: var(--bg-secondary);
            color: var(--text-primary);
            padding: 2rem;
            border-bottom: 1px solid var(--border);
            box-shadow: 0 2px 8px var(--shadow);
        }
        .header h1 {
            margin: 0;
            font-size: 2.5rem;
            font-weight: 400;
            color: var(--accent);
            font-family: var(--font-mono);
        }
        .header p {
            margin: 0.5rem 0 0 0;
            color: var(--text-secondary);
            font-size: 1rem;
        }

        /* Navigation */
        .nav-tabs {
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border);
            padding: 0 2rem;
            margin: 0;
            display: flex;
            gap: 0;
        }
        .nav-tab {
            background: none;
            border: none;
            padding: 1rem 1.5rem;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 400;
            color: var(--text-secondary);
            border-bottom: 2px solid transparent;
            transition: all 0.2s ease;
            font-family: var(--font-mono);
        }
        .nav-tab:hover {
            color: var(--text-primary);
            background: var(--bg-tertiary);
        }
        .nav-tab.active {
            color: var(--accent);
            border-bottom-color: var(--accent);
            background: var(--bg-tertiary);
        }

        /* Content areas */
        .content {
            display: none;
            background: var(--bg-primary);
        }
        .content.active {
            display: block;
        }

        /* Swagger UI dark theme customizations */
        .swagger-ui {
            background: var(--bg-primary) !important;
            color: var(--text-primary) !important;
        }
        .swagger-ui .topbar {
            display: none !important;
        }
        .swagger-ui .info {
            margin: 2rem 0;
            background: var(--bg-secondary) !important;
            padding: 2rem;
            border-radius: 8px;
            border: 1px solid var(--border);
        }
        .swagger-ui .info .title {
            color: var(--accent) !important;
            font-size: 1.8rem;
            font-family: var(--font-mono);
        }
        .swagger-ui .info .description {
            color: var(--text-secondary) !important;
        }
        .swagger-ui .scheme-container {
            background: var(--bg-tertiary) !important;
            margin: 0 0 20px;
            padding: 20px;
            border-radius: 6px;
            border: 1px solid var(--border);
        }
        .swagger-ui .scheme-container .schemes-title {
            color: var(--text-primary) !important;
        }
        .swagger-ui .scheme-container .schemes {
            background: var(--bg-secondary) !important;
            border: 1px solid var(--border);
        }
        .swagger-ui .scheme-container .schemes .scheme {
            background: var(--bg-primary) !important;
            color: var(--text-primary) !important;
            border: 1px solid var(--border);
        }
        .swagger-ui .scheme-container .schemes .scheme:hover {
            background: var(--bg-tertiary) !important;
        }

        /* Operation blocks */
        .swagger-ui .opblock {
            background: var(--bg-secondary) !important;
            border: 1px solid var(--border) !important;
            margin: 0 0 1rem 0;
            border-radius: 6px;
        }
        .swagger-ui .opblock .opblock-summary {
            background: var(--bg-tertiary) !important;
            border-bottom: 1px solid var(--border);
        }
        .swagger-ui .opblock .opblock-summary .opblock-summary-method {
            background: var(--accent) !important;
            color: var(--bg-primary) !important;
            font-family: var(--font-mono);
        }
        .swagger-ui .opblock .opblock-summary .opblock-summary-path {
            color: var(--text-primary) !important;
            font-family: var(--font-mono);
        }
        .swagger-ui .opblock .opblock-summary .opblock-summary-description {
            color: var(--text-secondary) !important;
        }

        /* Parameters and responses */
        .swagger-ui .opblock .opblock-body {
            background: var(--bg-secondary) !important;
        }
        .swagger-ui .parameters-container {
            background: var(--bg-tertiary) !important;
            border: 1px solid var(--border);
        }
        .swagger-ui .parameters-container .parameters-container-title {
            color: var(--text-primary) !important;
            font-family: var(--font-mono);
        }
        .swagger-ui .parameters-container .parameter__name {
            color: var(--accent) !important;
            font-family: var(--font-mono);
        }
        .swagger-ui .parameters-container .parameter__type {
            color: var(--text-secondary) !important;
        }
        .swagger-ui .parameters-container .parameter__deprecated {
            color: #ff6b6b !important;
        }

        /* Code blocks */
        .swagger-ui .highlight-code {
            background: var(--bg-primary) !important;
            color: var(--text-primary) !important;
            border: 1px solid var(--border);
            font-family: var(--font-mono);
        }
        .swagger-ui .highlight-code .hljs {
            background: var(--bg-primary) !important;
            color: var(--text-primary) !important;
        }

        /* Buttons */
        .swagger-ui .btn {
            background: var(--bg-tertiary) !important;
            color: var(--text-primary) !important;
            border: 1px solid var(--border) !important;
            font-family: var(--font-mono);
        }
        .swagger-ui .btn:hover {
            background: var(--bg-secondary) !important;
        }
        .swagger-ui .btn.execute {
            background: var(--accent) !important;
            color: var(--bg-primary) !important;
            border-color: var(--accent) !important;
        }
        .swagger-ui .btn.execute:hover {
            background: var(--accent-hover) !important;
        }

        /* Models */
        .swagger-ui .model {
            background: var(--bg-secondary) !important;
            color: var(--text-primary) !important;
        }
        .swagger-ui .model .model-title {
            color: var(--accent) !important;
            font-family: var(--font-mono);
        }
        .swagger-ui .model .model-title .model-title__text {
            color: var(--accent) !important;
        }

        /* Redoc dark theme customizations */
        .redoc-container {
            background: var(--bg-primary) !important;
            color: var(--text-primary) !important;
        }
        .redoc-container .redoc-wrap {
            background: var(--bg-primary) !important;
        }
        .redoc-container .menu-content {
            background: var(--bg-secondary) !important;
            border-right: 1px solid var(--border);
        }
        .redoc-container .menu-content .menu-item {
            color: var(--text-secondary) !important;
        }
        .redoc-container .menu-content .menu-item:hover {
            background: var(--bg-tertiary) !important;
            color: var(--text-primary) !important;
        }
        .redoc-container .menu-content .menu-item.active {
            background: var(--bg-tertiary) !important;
            color: var(--accent) !important;
        }

        /* Content area */
        .redoc-container .api-content {
            background: var(--bg-primary) !important;
        }
        .redoc-container .api-content h1,
        .redoc-container .api-content h2,
        .redoc-container .api-content h3 {
            color: var(--accent) !important;
            font-family: var(--font-mono);
        }
        .redoc-container .api-content p {
            color: var(--text-secondary) !important;
        }

        /* Code samples */
        .redoc-container .code-block {
            background: var(--bg-secondary) !important;
            border: 1px solid var(--border);
        }
        .redoc-container .code-block pre {
            background: var(--bg-primary) !important;
            color: var(--text-primary) !important;
            font-family: var(--font-mono);
        }

        /* Response examples */
        .redoc-container .response-col_status {
            color: var(--accent) !important;
        }
        .redoc-container .response-col_description {
            color: var(--text-secondary) !important;
        }

        /* Scrollbars */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: var(--bg-secondary);
        }
        ::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: var(--border-light);
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .header {
                padding: 1rem;
            }
            .header h1 {
                font-size: 2rem;
            }
            .nav-tabs {
                padding: 0 1rem;
                flex-wrap: wrap;
            }
            .nav-tab {
                padding: 0.75rem 1rem;
                font-size: 0.8rem;
            }
        }

        /* Focus states for accessibility */
        .nav-tab:focus,
        .swagger-ui .btn:focus {
            outline: 2px solid var(--accent);
            outline-offset: 2px;
        }

        /* Loading states */
        .loading {
            color: var(--text-secondary);
            text-align: center;
            padding: 2rem;
            font-family: var(--font-mono);
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>zmin</h1>
        <p>High-performance JSON minifier API documentation</p>
    </div>

    <div class="nav-tabs">
        <button class="nav-tab active" onclick="showTab('swagger')">Interactive API</button>
        <button class="nav-tab" onclick="showTab('redoc')">API Reference</button>
        <button class="nav-tab" onclick="showTab('examples')">Examples</button>
    </div>

    <div id="swagger-content" class="content active">
        <div id="swagger-ui"></div>
    </div>

    <div id="redoc-content" class="content">
        <div id="redoc"></div>
    </div>

    <div id="examples-content" class="content">
        <div style="padding: 2rem; max-width: 1200px; margin: 0 auto;">
            <h2 style="color: var(--accent); margin-bottom: 1rem;">API Examples</h2>

            <div style="background: var(--bg-secondary); padding: 1.5rem; border-radius: 6px; margin-bottom: 1.5rem; border: 1px solid var(--border);">
                <h3 style="color: var(--accent); margin-top: 0;">Basic Minification</h3>
                <pre style="background: var(--bg-primary); padding: 1rem; border-radius: 4px; border: 1px solid var(--border); overflow-x: auto;"><code style="color: var(--text-primary); font-family: var(--font-mono);">curl -X POST "https://api.zmin.dev/v1/minify" \
  -H "Content-Type: application/json" \
  -d '{"input": "{\"key\": \"value\"}"}'

# Response
{
  "output": "{\"key\":\"value\"}",
  "size_reduction": "12%",
  "processing_time": "0.001s"
}</code></pre>
            </div>

            <div style="background: var(--bg-secondary); padding: 1.5rem; border-radius: 6px; margin-bottom: 1.5rem; border: 1px solid var(--border);">
                <h3 style="color: var(--accent); margin-top: 0;">Turbo Mode</h3>
                <pre style="background: var(--bg-primary); padding: 1rem; border-radius: 4px; border: 1px solid var(--border); overflow-x: auto;"><code style="color: var(--text-primary); font-family: var(--font-mono);">curl -X POST "https://api.zmin.dev/v1/minify" \
  -H "Content-Type: application/json" \
  -d '{
    "input": "{\"large\": \"dataset\"}",
    "mode": "turbo",
    "options": {
      "chunk_size": "1MB",
      "threads": 16
    }
  }'</code></pre>
            </div>

            <div style="background: var(--bg-secondary); padding: 1.5rem; border-radius: 6px; margin-bottom: 1.5rem; border: 1px solid var(--border);">
                <h3 style="color: var(--accent); margin-top: 0;">GPU Acceleration</h3>
                <pre style="background: var(--bg-primary); padding: 1rem; border-radius: 4px; border: 1px solid var(--border); overflow-x: auto;"><code style="color: var(--text-primary); font-family: var(--font-mono);">curl -X POST "https://api.zmin.dev/v1/minify" \
  -H "Content-Type: application/json" \
  -d '{
    "input": "{\"massive\": \"dataset\"}",
    "mode": "turbo",
    "gpu": "cuda",
    "options": {
      "memory_limit": "4GB"
    }
  }'</code></pre>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/swagger-ui-dist@5.17.14/swagger-ui-bundle.js"></script>
    <script src="https://unpkg.com/swagger-ui-dist@5.17.14/swagger-ui-standalone-preset.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/redoc@2.1.3/bundles/redoc.standalone.js"></script>

    <script>
        function showTab(tabName) {
            // Hide all content
            const contents = document.querySelectorAll('.content');
            contents.forEach(content => content.classList.remove('active'));

            // Remove active class from all tabs
            const tabs = document.querySelectorAll('.nav-tab');
            tabs.forEach(tab => tab.classList.remove('active'));

            // Show selected content and activate tab
            document.getElementById(tabName + '-content').classList.add('active');
            event.target.classList.add('active');
        }

        // Initialize Swagger UI
        window.onload = function() {
            const ui = SwaggerUIBundle({
                url: './api-reference.yaml',
                dom_id: '#swagger-ui',
                deepLinking: true,
                presets: [
                    SwaggerUIBundle.presets.apis,
                    SwaggerUIStandalonePreset
                ],
                plugins: [
                    SwaggerUIBundle.plugins.DownloadUrl
                ],
                layout: "StandaloneLayout",
                theme: "dark"
            });

            // Initialize Redoc
            Redoc.init('./api-reference.yaml', {
                scrollYOffset: 0,
                hideDownloadButton: true,
                theme: {
                    colors: {
                        primary: {
                            main: '#00ff41'
                        }
                    },
                    typography: {
                        fontFamily: 'SF Mono, Monaco, Inconsolata, Roboto Mono, Source Code Pro, Menlo, Consolas, DejaVu Sans Mono, monospace',
                        fontSize: '14px',
                        lineHeight: '1.6em',
                        headings: {
                            fontFamily: 'SF Mono, Monaco, Inconsolata, Roboto Mono, Source Code Pro, Menlo, Consolas, DejaVu Sans Mono, monospace',
                            fontWeight: '400'
                        }
                    },
                    sidebar: {
                        backgroundColor: '#1a1a1a',
                        textColor: '#e0e0e0'
                    }
                }
            }, document.getElementById('redoc'));
        };
    </script>
</body>
</html>